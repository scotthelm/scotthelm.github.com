<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Some Postgres Shortcuts</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
    </style>
    <link href="/css/bootstrap-responsive.min.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/scotthelm">
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="brand" href="/">Scott Helm</a>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <h2> Some Postgres Shortcuts </h2>
      <hr/>
        <h3 id='command_line'>Command Line</h3>

<p><code>
pg_dump &lt;database_name&gt; -s -O -h &lt;host&gt; -U &lt;username&gt; -W -f &lt;path_to_target_file&gt; -n &lt;schema_name&gt; -n &lt;schema_name&gt;
</code></p>

<ul>
<li>-s Schema only, please. No data</li>

<li>-O (that&#8217;s an O as in &#8220;Oh&#8221;): don&#8217;t script ownership of objects</li>

<li>-h the host. If you&#8217;re on the box with the database, then localhost usually works</li>

<li>-U the username that you want to connect to the database with</li>

<li>-W prompt me for a password. If you don&#8217;t want this, then you will need to set the PG_PASS environment variable</li>

<li>-n schema name. Postgres has the concept of schemas. Think of them as namespaces. You can pass a list with multiple -n or leave it blank and get all of them</li>
</ul>

<p>The -h, -U and -W work with psql as well</p>

<h3 id='psql'>psql</h3>

<p>within psql, \e will open your editor of choice. I usually use vim. It creates a file in <code>
/tmp/psql.edit.&lt;pid&gt;
</code> where pid is the process ID of psql. You edit your sql in that file. When you :wq to write and quit vim, psql will use that file as it&#8217;s command. So if you want it to execute, then make sure it ends with a semicolon; or it won&#8217;t run.</p>

<p>More to come. These are ones I&#8217;ve used today.</p>
      <hr/>

      <footer>
      <p>&copy; <a href="mailto:helm.scott+scotthelm@gmail.com">Scott Helm</a> 2012</p>
      </footer>

    </div><!--/.fluid-container-->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>

  </body>
</html>
